<html>

<head>
    <link rel="stylesheet" href="resources/bs.min.css">
    <link rel="stylesheet" href="resources/style.css">
    <link rel="stylesheet" href="resources/nano.min.css">
    <script src="resources/jq-3.1.1.min.js"></script>
    <script src="resources/bs.min.js"></script>
    <script src="resources/pickr.min.js"></script>
    <meta name="viewport" content="width=600, initial-scale=1">

    <script>
        function clickButton(btn) {
            jQuery.ajax("http://" + location.host + "/action/?btn=" + btn);
            return false;
        }

        function changeBrightness(value) {
            jQuery.ajax("http://" + location.host + "/action/?brightness=" + value);
            return false;
        }

        function sendColor(value) {
            jQuery.ajax("http://" + location.host + "/action/?color=" + value + ',' + value + ',' + value);
            return false;
        }


        function selectColor(button) {
            const pickr = Pickr.create({
                el: button,
                theme: 'nano', // or 'monolith', or 'nano',
                useAsButton: true,
                components: {
                    // Main components
                    preview: true,
                    hue: true,

                    interaction: {
                        save: true
                    }
                }
            });

            pickr.on('save', (color, instance) => {
                button.style.background = color.toHEXA();
                pickr.hide();
                console.log(color.toHSLA());
                sendColor(color.toHSLA()[0]);
            })
            pickr.show();
        }

    </script>
</head>

<body>
    <i class="fas fa-power-off"></i>
    <div class="container">
        <div class="row">
            <div class="col-sm">
            </div>
            <div class="col-sm">
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(3)">
                    <img src="resources/pause.svg" height="70%">
                </button>
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle btn-danger" onclick="clickButton(4)">
                    <img src="resources/off.svg" height="70%">
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(40)"><b>Noise</b></button>
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(42)"><b>Fire</b></button>
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(41)"><b>Fade</b></button>
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(44)"><b>Glow</b></button>
            </div>
        </div>
        <div class="row">
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(43)"><b>Demo</b></button>
            </div>
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="clickButton(45)"><b>Solid</b></button>
            </div>
        </div>
        <div class="row">
            <div class="col-sm">
                <button class="btn btn-secondary btn-circle" onclick="selectColor(this)"><b>Color 1</b></button>
            </div>

        </div>
        <div class="row">
            <div class="col-sm-12" style="text-align:center">
                <b>Brightness</b>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <input type="range" min="1" max="100" value="50" class="slider" id="myRange"
                    onchange="changeBrightness(this.value)">
            </div>
        </div>
    </div>
</body>

</html>